<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AWS Solution Architect Associate ë¬¸ì œí’€ì´</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif;
      background: #f9fafb;
      color: #111827;
      padding: 1rem;
      line-height: 1.6;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    /* í—¤ë” */
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 2rem;
      border-radius: 12px;
      margin-bottom: 2rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .header h1 {
      font-size: 1.8rem;
      font-weight: 600;
      text-align: center;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 1rem;
    }

    .user-badge {
      background: rgba(255,255,255,0.2);
      border: 1px solid rgba(255,255,255,0.3);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.85rem;
      color: white;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .user-badge button {
      background: none;
      border: none;
      color: rgba(255,255,255,0.7);
      cursor: pointer;
      padding: 0;
      font-size: 1rem;
    }

    .user-badge button:hover {
      color: white;
    }

    .sync-status {
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .sync-status.syncing { color: #fcd34d; }
    .sync-status.success { color: #86efac; }
    .sync-status.error { color: #fca5a5; }
    .sync-status.offline { color: #9ca3af; }

    /* ë¡œë”© */
    .loading {
      text-align: center;
      padding: 3rem;
      font-size: 1.2rem;
      color: #667eea;
    }

    /* ëª¨ë“œ ì„ íƒ íŒ¨ë„ */
    .mode-panel {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 1.5rem;
    }

    .mode-panel h3 {
      font-size: 1rem;
      color: #374151;
      margin-bottom: 1rem;
    }

    .mode-buttons {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .mode-btn {
      padding: 0.6rem 1.2rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      font-size: 0.9rem;
      font-family: inherit;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .mode-btn:hover {
      border-color: #667eea;
      background: #f5f3ff;
    }

    .mode-btn.active {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    .mode-btn .count {
      font-size: 0.75rem;
      background: rgba(0,0,0,0.1);
      padding: 0.15rem 0.4rem;
      border-radius: 10px;
    }

    .mode-btn.active .count {
      background: rgba(255,255,255,0.2);
    }

    /* í†µê³„ ì¹´ë“œ */
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .stat-card {
      background: white;
      padding: 1.2rem;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .stat-card h3 {
      font-size: 0.8rem;
      color: #6b7280;
      margin-bottom: 0.3rem;
    }

    .stat-card p {
      font-size: 1.5rem;
      font-weight: 700;
      color: #667eea;
    }

    /* í€´ì¦ˆ ì»¨í…Œì´ë„ˆ */
    .quiz-container {
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 1.5rem;
    }

    progress {
      width: 100%;
      height: 12px;
      margin-bottom: 0.5rem;
      border-radius: 8px;
      overflow: hidden;
      appearance: none;
    }

    progress::-webkit-progress-bar {
      background-color: #e5e7eb;
      border-radius: 8px;
    }

    progress::-webkit-progress-value {
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      border-radius: 8px;
    }

    progress::-moz-progress-bar {
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      border-radius: 8px;
    }

    .progress-info {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      color: #6b7280;
      margin-bottom: 1.5rem;
    }

    .service-tags {
      display: flex;
      gap: 0.4rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .service-tag {
      background: #dbeafe;
      color: #1d4ed8;
      padding: 0.25rem 0.6rem;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 500;
    }

    .question {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: #1f2937;
      line-height: 1.8;
    }

    .choice-button {
      display: block;
      width: 100%;
      text-align: left;
      padding: 1rem 1.25rem;
      margin: 0.75rem 0;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.2s ease;
      color: #374151;
      font-family: inherit;
    }

    .choice-button:hover:not(:disabled) {
      background: #f9fafb;
      border-color: #d1d5db;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .choice-button.selected {
      border-color: #3b82f6;
      background-color: #eff6ff;
      font-weight: 500;
    }

    .choice-button.correct {
      background-color: #d1fae5;
      border-color: #10b981;
      color: #065f46;
      font-weight: 600;
    }

    .choice-button.incorrect {
      background-color: #fee2e2;
      border-color: #ef4444;
      color: #991b1b;
      font-weight: 600;
    }

    .choice-button:disabled {
      cursor: not-allowed;
    }

    .answer-section {
      background: #f0fdf4;
      border: 2px solid #10b981;
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 1.5rem;
    }

    .answer-section strong {
      color: #065f46;
      font-size: 1.1rem;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      background: #667eea;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: all 0.2s ease;
      margin-top: 1rem;
      font-family: inherit;
    }

    .btn:hover:not(:disabled) {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
    }

    .btn:disabled {
      background: #9ca3af;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .explanation {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 1.5rem;
      margin-top: 1rem;
      border-radius: 8px;
    }

    .explanation p {
      margin: 0.5rem 0;
      color: #92400e;
      line-height: 1.8;
      white-space: pre-wrap;
    }

    .navigation {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }

    .navigation button {
      flex: 1;
      min-width: 120px;
    }

    /* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
    .control-panel {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 1.5rem;
    }

    .control-panel h3 {
      font-size: 1rem;
      color: #374151;
      margin-bottom: 1rem;
    }

    .jump-section {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      flex-wrap: wrap;
    }

    .jump-section input {
      width: 120px;
      padding: 0.75rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 1rem;
      font-family: inherit;
    }

    .jump-section input:focus {
      outline: none;
      border-color: #667eea;
    }

    /* ë¡œê·¸ì¸ ëª¨ë‹¬ */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal {
      background: white;
      padding: 2rem;
      border-radius: 16px;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .modal h2 {
      margin-bottom: 0.5rem;
      color: #1f2937;
      font-size: 1.5rem;
    }

    .modal p {
      color: #6b7280;
      margin-bottom: 1.5rem;
      font-size: 0.9rem;
    }

    .modal select {
      width: 100%;
      padding: 0.85rem 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 1rem;
      margin-bottom: 1rem;
      font-family: inherit;
      background: white;
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 1rem center;
    }

    .modal select:focus {
      outline: none;
      border-color: #667eea;
    }

    .modal .btn {
      width: 100%;
      margin-top: 0;
    }

    .modal .info-box {
      background: #f0fdf4;
      border: 1px solid #86efac;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1.5rem;
      font-size: 0.85rem;
      color: #166534;
    }

    .modal .error-box {
      background: #fef2f2;
      border: 1px solid #fca5a5;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1.5rem;
      font-size: 0.85rem;
      color: #991b1b;
    }

    /* ì˜¤ë‹µë…¸íŠ¸ ë²„íŠ¼ */
    .wrong-note-btn {
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.2s ease;
    }

    .wrong-note-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
    }

    /* ì˜¤ë‹µë…¸íŠ¸ íŒ¨ë„ */
    .wrong-notes-panel {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .wrong-notes-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .wrong-notes-header h3 {
      font-size: 1.2rem;
      color: #1f2937;
      margin: 0;
    }

    .wrong-notes-header .count {
      color: #6b7280;
      font-weight: normal;
    }

    .back-btn {
      background: #f3f4f6;
      border: none;
      border-radius: 8px;
      padding: 0.5rem 0.75rem;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .back-btn:hover {
      background: #e5e7eb;
    }

    /* í•„í„° ì„¹ì…˜ */
    .filter-section {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }

    .filter-btn {
      padding: 0.4rem 0.8rem;
      border: 2px solid #e5e7eb;
      border-radius: 20px;
      background: white;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .filter-btn:hover {
      border-color: #667eea;
      background: #f5f3ff;
    }

    .filter-btn.active {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    /* ì •ë ¬ ì„¹ì…˜ */
    .sort-section {
      margin-bottom: 1rem;
    }

    .sort-select {
      padding: 0.5rem 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 0.9rem;
      font-family: inherit;
      background: white;
      cursor: pointer;
    }

    .sort-select:focus {
      outline: none;
      border-color: #667eea;
    }

    /* ì˜¤ë‹µ ì¹´ë“œ */
    .wrong-cards {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .wrong-card {
      background: #fef3c7;
      border: 1px solid #fcd34d;
      border-radius: 12px;
      padding: 1rem;
      transition: all 0.2s ease;
    }

    .wrong-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(252, 211, 77, 0.3);
    }

    .wrong-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0.75rem;
    }

    .question-id {
      font-weight: 700;
      color: #92400e;
      font-size: 0.9rem;
    }

    .wrong-card .services {
      display: flex;
      gap: 0.3rem;
      flex-wrap: wrap;
    }

    .wrong-card .service-tag {
      background: #fde68a;
      color: #92400e;
      padding: 0.2rem 0.5rem;
      border-radius: 10px;
      font-size: 0.7rem;
      font-weight: 500;
    }

    .question-preview {
      color: #78350f;
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 0.75rem;
    }

    .wrong-card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .wrong-info {
      font-size: 0.8rem;
      color: #92400e;
    }

    .wrong-count {
      font-weight: 700;
      color: #dc2626;
    }

    .solve-btn {
      background: #f59e0b;
      color: white;
      border: none;
      padding: 0.4rem 1rem;
      border-radius: 6px;
      font-size: 0.85rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    .solve-btn:hover {
      background: #d97706;
    }

    /* ë¹ˆ ìƒíƒœ */
    .empty-state {
      text-align: center;
      padding: 3rem;
      color: #6b7280;
    }

    .empty-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    /* ë¶ë§ˆí¬ ë²„íŠ¼ */
    .bookmark-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0.25rem;
      transition: transform 0.2s ease;
    }

    .bookmark-btn:hover {
      transform: scale(1.2);
    }

    .bookmark-btn.active {
      color: #f59e0b;
    }

    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }

    /* ì„œë¹„ìŠ¤ë³„ í’€ê¸° */
    .service-select-panel {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .service-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .service-select-btn {
      padding: 0.5rem 0.75rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s ease;
      font-family: inherit;
      text-align: left;
    }

    .service-select-btn:hover {
      border-color: #667eea;
      background: #f5f3ff;
    }

    .service-select-btn.selected {
      border-color: #667eea;
      background: #667eea;
      color: white;
    }

    .service-select-btn .svc-count {
      font-size: 0.7rem;
      opacity: 0.7;
    }

    /* ëª¨ì˜ê³ ì‚¬ ëª¨ë“œ */
    .exam-mode-banner {
      background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      margin-bottom: 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .exam-info {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .exam-info-item {
      text-align: center;
    }

    .exam-info-item .label {
      font-size: 0.75rem;
      opacity: 0.8;
    }

    .exam-info-item .value {
      font-size: 1.2rem;
      font-weight: 700;
    }

    .exam-end-btn {
      background: rgba(255,255,255,0.2);
      border: 1px solid rgba(255,255,255,0.3);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-family: inherit;
      font-size: 0.9rem;
    }

    .exam-end-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    /* ëª¨ì˜ê³ ì‚¬ ê²°ê³¼ */
    .exam-result {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      padding: 2rem;
      text-align: center;
    }

    .exam-result h2 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: #1f2937;
    }

    .exam-result-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .exam-result-stat {
      background: #f9fafb;
      padding: 1rem;
      border-radius: 8px;
    }

    .exam-result-stat .label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .exam-result-stat .value {
      font-size: 1.5rem;
      font-weight: 700;
      color: #667eea;
    }

    .exam-result-stat .value.pass {
      color: #10b981;
    }

    .exam-result-stat .value.fail {
      color: #ef4444;
    }

    .extra-btns {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }

    .extra-btn {
      padding: 0.6rem 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      font-size: 0.85rem;
      font-family: inherit;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .extra-btn:hover {
      border-color: #667eea;
      background: #f5f3ff;
    }

    .extra-btn.exam {
      border-color: #dc2626;
      color: #dc2626;
    }

    .extra-btn.exam:hover {
      background: #fef2f2;
    }

    /* ì‹œí—˜ì •ë³´ ë²„íŠ¼ */
    .exam-info-btn {
      background: rgba(255,255,255,0.2);
      border: 1px solid rgba(255,255,255,0.3);
      color: white;
      padding: 0.4rem 0.8rem;
      border-radius: 8px;
      cursor: pointer;
      font-family: inherit;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      transition: all 0.2s ease;
    }

    .exam-info-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    /* í—¤ë” ìš”ì•½ ì •ë³´ */
    .header-summary {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 0.75rem;
      font-size: 0.85rem;
      opacity: 0.9;
    }

    .header-summary span {
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    /* ì‹œí—˜ì •ë³´ ëª¨ë‹¬ */
    .info-modal {
      background: white;
      padding: 0;
      border-radius: 16px;
      max-width: 600px;
      width: 95%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .info-modal-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1.5rem;
      border-radius: 16px 16px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .info-modal-header h2 {
      margin: 0;
      font-size: 1.3rem;
    }

    .info-modal-close {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .info-modal-close:hover {
      background: rgba(255,255,255,0.3);
    }

    .info-modal-body {
      padding: 0;
    }

    /* íƒ­ ë©”ë‰´ */
    .info-tabs {
      display: flex;
      border-bottom: 2px solid #e5e7eb;
      background: #f9fafb;
    }

    .info-tab {
      flex: 1;
      padding: 0.75rem 1rem;
      border: none;
      background: none;
      cursor: pointer;
      font-size: 0.9rem;
      font-family: inherit;
      color: #6b7280;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
    }

    .info-tab:hover {
      color: #667eea;
      background: #f3f4f6;
    }

    .info-tab.active {
      color: #667eea;
      font-weight: 600;
      border-bottom: 2px solid #667eea;
      margin-bottom: -2px;
      background: white;
    }

    .info-tab-content {
      padding: 1.5rem;
      display: none;
    }

    .info-tab-content.active {
      display: block;
    }

    .info-section {
      margin-bottom: 1.5rem;
    }

    .info-section:last-child {
      margin-bottom: 0;
    }

    .info-section h3 {
      font-size: 1rem;
      color: #374151;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;
    }

    .info-item {
      display: flex;
      justify-content: space-between;
      padding: 0.6rem 0.8rem;
      background: #f9fafb;
      border-radius: 8px;
    }

    .info-item .label {
      color: #6b7280;
      font-size: 0.85rem;
    }

    .info-item .value {
      font-weight: 600;
      color: #1f2937;
      font-size: 0.85rem;
    }

    /* ë„ë©”ì¸ ì§„í–‰ë°” */
    .domain-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .domain-item {
      background: #f9fafb;
      padding: 0.75rem;
      border-radius: 8px;
    }

    .domain-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.4rem;
      font-size: 0.85rem;
    }

    .domain-name {
      color: #374151;
    }

    .domain-percent {
      font-weight: 600;
      color: #667eea;
    }

    .domain-bar {
      height: 8px;
      background: #e5e7eb;
      border-radius: 4px;
      overflow: hidden;
    }

    .domain-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      border-radius: 4px;
    }

    /* íŒ ëª©ë¡ */
    .tips-list {
      background: #ecfdf5;
      border-radius: 8px;
      padding: 1rem;
    }

    .tips-list li {
      color: #065f46;
      font-size: 0.85rem;
      margin-bottom: 0.5rem;
      line-height: 1.5;
    }

    .tips-list li:last-child {
      margin-bottom: 0;
    }

    /* ì°¸ê³ ìë£Œ ë§í¬ */
    .resource-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .resource-link {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 0.8rem;
      background: #fff7ed;
      border-radius: 8px;
      text-decoration: none;
      color: #9a3412;
      font-size: 0.85rem;
      transition: all 0.2s ease;
    }

    .resource-link:hover {
      background: #ffedd5;
      transform: translateX(4px);
    }

    .resource-link .icon {
      font-size: 1rem;
    }

    /* ì‚¬ìš©ê°€ì´ë“œ ìŠ¤íƒ€ì¼ */
    .guide-section {
      margin-bottom: 1.5rem;
    }

    .guide-section:last-child {
      margin-bottom: 0;
    }

    .guide-section h3 {
      font-size: 1rem;
      color: #374151;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .guide-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.85rem;
    }

    .guide-table th,
    .guide-table td {
      padding: 0.6rem 0.8rem;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }

    .guide-table th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
      white-space: nowrap;
    }

    .guide-table td {
      color: #6b7280;
    }

    .guide-table tr:last-child td {
      border-bottom: none;
    }

    .guide-steps {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .guide-step {
      display: flex;
      gap: 0.75rem;
      padding: 0.75rem;
      background: #f9fafb;
      border-radius: 8px;
    }

    .guide-step-num {
      width: 24px;
      height: 24px;
      background: #667eea;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 600;
      flex-shrink: 0;
    }

    .guide-step-text {
      font-size: 0.85rem;
      color: #374151;
      line-height: 1.5;
    }

    .feature-cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem;
    }

    .feature-card {
      background: #f9fafb;
      border-radius: 8px;
      padding: 0.75rem;
    }

    .feature-card-title {
      font-weight: 600;
      color: #374151;
      font-size: 0.85rem;
      margin-bottom: 0.25rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .feature-card-desc {
      font-size: 0.8rem;
      color: #6b7280;
      line-height: 1.4;
    }

    @media (max-width: 640px) {
      .header h1 {
        font-size: 1.3rem;
      }

      .header-content {
        flex-direction: column;
        gap: 0.5rem;
      }

      .quiz-container {
        padding: 1.5rem;
      }

      .navigation {
        flex-direction: column;
      }

      .navigation button {
        width: 100%;
      }

      .stats {
        grid-template-columns: repeat(2, 1fr);
      }

      .stat-card p {
        font-size: 1.3rem;
      }

      .mode-buttons {
        flex-direction: column;
      }

      .mode-btn {
        justify-content: center;
      }

      .wrong-note-btn {
        width: 100%;
        justify-content: center;
      }

      .wrong-card-header {
        flex-direction: column;
        gap: 0.5rem;
      }

      .wrong-card-footer {
        flex-direction: column;
        gap: 0.5rem;
        align-items: stretch;
      }

      .solve-btn {
        width: 100%;
        text-align: center;
      }

      .service-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .exam-mode-banner {
        flex-direction: column;
        text-align: center;
      }

      .extra-btns {
        flex-direction: column;
      }

      .extra-btn {
        justify-content: center;
      }

      .header-summary {
        flex-wrap: wrap;
        gap: 0.5rem;
      }

      .info-grid {
        grid-template-columns: 1fr;
      }

      .info-modal {
        width: 100%;
        max-height: 85vh;
        border-radius: 16px 16px 0 0;
        margin-top: auto;
      }

      .feature-cards {
        grid-template-columns: 1fr;
      }

      .info-tab {
        font-size: 0.8rem;
        padding: 0.6rem 0.5rem;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div class="modal-overlay" v-if="showLoginModal">
      <div class="modal">
        <h2>AWS SAA ìŠ¤í„°ë””</h2>
        <p>ì´ë¦„ì„ ì„ íƒí•˜ë©´ í’€ì´ ê¸°ë¡ì´ ì €ì¥ë©ë‹ˆë‹¤.</p>

        <div class="info-box" v-if="!loginError">
          ê¸°ë¡ì€ ìë™ìœ¼ë¡œ ì €ì¥ë˜ë©°, ë‚˜ì¤‘ì— ë³µìŠµí•  ë•Œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>

        <div class="error-box" v-if="loginError">
          {{ loginError }}<br>
          <small style="opacity: 0.8;">ê¸°ë¡ì€ ì´ ê¸°ê¸°ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤.</small>
        </div>

        <select v-model="selectedUser" :disabled="loadingUsers">
          <option value="" disabled>{{ loadingUsers ? 'ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...' : 'ì´ë¦„ì„ ì„ íƒí•˜ì„¸ìš”' }}</option>
          <option v-for="user in users" :key="user.name" :value="user.name">
            {{ user.name }}
          </option>
        </select>

        <button class="btn" @click="login" :disabled="!selectedUser || loadingUsers">
          ì‹œì‘í•˜ê¸°
        </button>
      </div>
    </div>

    <!-- ì‹œí—˜ì •ë³´ ëª¨ë‹¬ -->
    <div class="modal-overlay" v-if="showExamInfo" @click.self="showExamInfo = false">
      <div class="info-modal">
        <div class="info-modal-header">
          <h2>AWS SAA-C03</h2>
          <button class="info-modal-close" @click="showExamInfo = false">âœ•</button>
        </div>
        <div class="info-modal-body">
          <!-- íƒ­ ë©”ë‰´ -->
          <div class="info-tabs">
            <button class="info-tab" :class="{ active: infoTab === 'exam' }" @click="infoTab = 'exam'">
              <span>ğŸ“‹</span> ì‹œí—˜ì •ë³´
            </button>
            <button class="info-tab" :class="{ active: infoTab === 'guide' }" @click="infoTab = 'guide'">
              <span>ğŸ“–</span> ì‚¬ìš©ê°€ì´ë“œ
            </button>
            <button class="info-tab" :class="{ active: infoTab === 'resources' }" @click="infoTab = 'resources'">
              <span>ğŸ”—</span> ì°¸ê³ ìë£Œ
            </button>
          </div>

          <!-- íƒ­ 1: ì‹œí—˜ì •ë³´ -->
          <div class="info-tab-content" :class="{ active: infoTab === 'exam' }">
            <div class="info-section">
              <h3><span>ğŸ“‹</span> ì‹œí—˜ ê°œìš”</h3>
              <div class="info-grid">
                <div class="info-item">
                  <span class="label">ì‹œí—˜ ì‹œê°„</span>
                  <span class="value">130ë¶„</span>
                </div>
                <div class="info-item">
                  <span class="label">ë¬¸ì œ ìˆ˜</span>
                  <span class="value">65ë¬¸ì œ</span>
                </div>
                <div class="info-item">
                  <span class="label">í•©ê²© ì ìˆ˜</span>
                  <span class="value">720 / 1000ì </span>
                </div>
                <div class="info-item">
                  <span class="label">í•©ê²© ê¸°ì¤€</span>
                  <span class="value">ì•½ 72%</span>
                </div>
                <div class="info-item">
                  <span class="label">ì‹œí—˜ ë¹„ìš©</span>
                  <span class="value">$150 USD</span>
                </div>
                <div class="info-item">
                  <span class="label">ìœ íš¨ ê¸°ê°„</span>
                  <span class="value">3ë…„</span>
                </div>
                <div class="info-item">
                  <span class="label">ì–¸ì–´</span>
                  <span class="value">í•œêµ­ì–´ / ì˜ì–´</span>
                </div>
                <div class="info-item">
                  <span class="label">ì¶”ê°€ ì‹œê°„</span>
                  <span class="value">+30ë¶„ (ë¹„ì˜ì–´ê¶Œ)</span>
                </div>
              </div>
            </div>

            <div class="info-section">
              <h3><span>ğŸ“Š</span> ì¶œì œ ë„ë©”ì¸</h3>
              <div class="domain-list">
                <div class="domain-item">
                  <div class="domain-header">
                    <span class="domain-name">ë„ë©”ì¸ 1: ë³´ì•ˆ ì•„í‚¤í…ì²˜ ì„¤ê³„</span>
                    <span class="domain-percent">30%</span>
                  </div>
                  <div class="domain-bar">
                    <div class="domain-bar-fill" style="width: 100%;"></div>
                  </div>
                </div>
                <div class="domain-item">
                  <div class="domain-header">
                    <span class="domain-name">ë„ë©”ì¸ 2: ë³µì›ë ¥ ìˆëŠ” ì•„í‚¤í…ì²˜ ì„¤ê³„</span>
                    <span class="domain-percent">26%</span>
                  </div>
                  <div class="domain-bar">
                    <div class="domain-bar-fill" style="width: 87%;"></div>
                  </div>
                </div>
                <div class="domain-item">
                  <div class="domain-header">
                    <span class="domain-name">ë„ë©”ì¸ 3: ê³ ì„±ëŠ¥ ì•„í‚¤í…ì²˜ ì„¤ê³„</span>
                    <span class="domain-percent">24%</span>
                  </div>
                  <div class="domain-bar">
                    <div class="domain-bar-fill" style="width: 80%;"></div>
                  </div>
                </div>
                <div class="domain-item">
                  <div class="domain-header">
                    <span class="domain-name">ë„ë©”ì¸ 4: ë¹„ìš© ìµœì í™” ì•„í‚¤í…ì²˜ ì„¤ê³„</span>
                    <span class="domain-percent">20%</span>
                  </div>
                  <div class="domain-bar">
                    <div class="domain-bar-fill" style="width: 67%;"></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="info-section">
              <h3><span>ğŸ’¡</span> ì‹œí—˜ ì¤€ë¹„ íŒ</h3>
              <ul class="tips-list">
                <li>ë¬¸ì œë‹¹ í‰ê·  2ë¶„ ë°°ë¶„ (65ë¬¸ì œ Ã— 2ë¶„ = 130ë¶„)</li>
                <li>ëª¨ë¥´ëŠ” ë¬¸ì œëŠ” í”Œë˜ê·¸ í›„ ë‚˜ì¤‘ì— ì¬ê²€í† </li>
                <li>ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ë¬¸ì œ - ìš”êµ¬ì‚¬í•­ ì •í™•íˆ íŒŒì•…</li>
                <li>Well-Architected Framework 5ëŒ€ ì›ì¹™ ìˆ™ì§€</li>
                <li>ê° ì„œë¹„ìŠ¤ì˜ ì‚¬ìš© ì‚¬ë¡€ ë° ì œí•œì‚¬í•­ íŒŒì•…</li>
              </ul>
            </div>
          </div>

          <!-- íƒ­ 2: ì‚¬ìš©ê°€ì´ë“œ -->
          <div class="info-tab-content" :class="{ active: infoTab === 'guide' }">
            <div class="guide-section">
              <h3><span>ğŸš€</span> ì‹œì‘í•˜ê¸°</h3>
              <div class="guide-steps">
                <div class="guide-step">
                  <span class="guide-step-num">1</span>
                  <span class="guide-step-text">ì›¹ ì•± ì ‘ì† í›„ ë“œë¡­ë‹¤ìš´ì—ì„œ <strong>ë³¸ì¸ ì´ë¦„ ì„ íƒ</strong></span>
                </div>
                <div class="guide-step">
                  <span class="guide-step-num">2</span>
                  <span class="guide-step-text"><strong>"ì‹œì‘í•˜ê¸°"</strong> ë²„íŠ¼ í´ë¦­</span>
                </div>
                <div class="guide-step">
                  <span class="guide-step-num">3</span>
                  <span class="guide-step-text">í’€ì´ ê¸°ë¡ì€ <strong>ìë™ìœ¼ë¡œ ì €ì¥</strong>ë©ë‹ˆë‹¤</span>
                </div>
              </div>
            </div>

            <div class="guide-section">
              <h3><span>ğŸ¯</span> í’€ì´ ëª¨ë“œ</h3>
              <table class="guide-table">
                <tr>
                  <th>ìˆœì°¨</th>
                  <td>1ë²ˆë¶€í„° ìˆœì„œëŒ€ë¡œ í’€ê¸° (724ë¬¸ì œ)</td>
                </tr>
                <tr>
                  <th>ëœë¤</th>
                  <td>ë¬´ì‘ìœ„ ìˆœì„œë¡œ í’€ê¸°</td>
                </tr>
                <tr>
                  <th>ì˜¤ë‹µë³µìŠµ</th>
                  <td>í‹€ë¦° ë¬¸ì œë§Œ ë‹¤ì‹œ í’€ê¸°</td>
                </tr>
                <tr>
                  <th>ë¯¸í’€ì´</th>
                  <td>ì•„ì§ ì•ˆ í‘¼ ë¬¸ì œë§Œ í’€ê¸°</td>
                </tr>
                <tr>
                  <th>ë¶ë§ˆí¬</th>
                  <td>ì €ì¥í•´ë‘” ë¬¸ì œë§Œ í’€ê¸°</td>
                </tr>
              </table>
            </div>

            <div class="guide-section">
              <h3><span>âœ¨</span> ì£¼ìš” ê¸°ëŠ¥</h3>
              <div class="feature-cards">
                <div class="feature-card">
                  <div class="feature-card-title"><span>ğŸ·ï¸</span> ì„œë¹„ìŠ¤ë³„ í’€ê¸°</div>
                  <div class="feature-card-desc">EC2, S3, Lambda ë“± ì›í•˜ëŠ” AWS ì„œë¹„ìŠ¤ë§Œ ì§‘ì¤‘ í•™ìŠµ</div>
                </div>
                <div class="feature-card">
                  <div class="feature-card-title"><span>ğŸ“</span> ëª¨ì˜ê³ ì‚¬</div>
                  <div class="feature-card-desc">ì‹¤ì œ ì‹œí—˜ê³¼ ë™ì¼ (65ë¬¸ì œ/130ë¶„, í•©ê²© 72%)</div>
                </div>
                <div class="feature-card">
                  <div class="feature-card-title"><span>â­</span> ë¶ë§ˆí¬</div>
                  <div class="feature-card-desc">ë¬¸ì œ ìš°ì¸¡ ìƒë‹¨ â˜† í´ë¦­í•˜ì—¬ ì €ì¥, ë‚˜ì¤‘ì— ë³µìŠµ</div>
                </div>
                <div class="feature-card">
                  <div class="feature-card-title"><span>ğŸ“‹</span> ì˜¤ë‹µë…¸íŠ¸</div>
                  <div class="feature-card-desc">í‹€ë¦° ë¬¸ì œ ìë™ ìˆ˜ì§‘, ì„œë¹„ìŠ¤ë³„ í•„í„°, ì˜¤ë‹µ íšŸìˆ˜ í™•ì¸</div>
                </div>
              </div>
            </div>
          </div>

          <!-- íƒ­ 3: ì°¸ê³ ìë£Œ -->
          <div class="info-tab-content" :class="{ active: infoTab === 'resources' }">
            <div class="info-section">
              <h3><span>ğŸ“š</span> í•™ìŠµ ìë£Œ</h3>
              <div class="resource-list">
                <a href="https://aws.amazon.com/ko/certification/certified-solutions-architect-associate/" target="_blank" class="resource-link">
                  <span class="icon">ğŸ“„</span> AWS ê³µì‹ ì‹œí—˜ ê°€ì´ë“œ
                </a>
                <a href="https://skillbuilder.aws/" target="_blank" class="resource-link">
                  <span class="icon">ğŸ“š</span> AWS Skill Builder (ë¬´ë£Œ í•™ìŠµ)
                </a>
                <a href="https://www.udemy.com/course/aws-certified-solutions-architect-associate-saa-c03/" target="_blank" class="resource-link">
                  <span class="icon">ğŸ“</span> Udemy ê°•ì˜ (Stephane Maarek)
                </a>
                <a href="https://drive.google.com/file/d/1xzYjit12Vb-i6N-znQfaWrpoc3W_5vHx/view?usp=drive_link" target="_blank" class="resource-link">
                  <span class="icon">ğŸ“</span> ì˜ˆìƒë¬¸í•­ PDF
                </a>
              </div>
            </div>

            <div class="info-section">
              <h3><span>ğŸ¯</span> ì‹œí—˜ ì˜ˆì•½</h3>
              <div class="resource-list">
                <a href="https://www.aws.training/certification" target="_blank" class="resource-link">
                  <span class="icon">ğŸ“…</span> AWS Training - ì‹œí—˜ ì˜ˆì•½
                </a>
                <a href="https://www.pearsonvue.com/aws" target="_blank" class="resource-link">
                  <span class="icon">ğŸ¢</span> Pearson VUE ì‹œí—˜ ì„¼í„°
                </a>
              </div>
            </div>

            <div class="info-section">
              <h3><span>ğŸ’¡</span> í•©ê²© ì „ëµ</h3>
              <ul class="tips-list">
                <li><strong>Well-Architected Framework</strong> 5ëŒ€ ì›ì¹™ (ìš´ì˜, ë³´ì•ˆ, ì•ˆì •ì„±, ì„±ëŠ¥, ë¹„ìš©) ìˆ™ì§€</li>
                <li><strong>ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ë¬¸ì œ</strong>ì—ì„œ í•µì‹¬ ìš”êµ¬ì‚¬í•­ íŒŒì•… ì—°ìŠµ</li>
                <li>ê° ì„œë¹„ìŠ¤ì˜ <strong>ì‚¬ìš© ì‚¬ë¡€ì™€ ì œí•œì‚¬í•­</strong> ì•”ê¸°</li>
                <li><strong>ì˜¤ë‹µë…¸íŠ¸</strong>ë¥¼ í™œìš©í•œ ì·¨ì•½ ë¶€ë¶„ ì§‘ì¤‘ ë³µìŠµ</li>
                <li>ì‹œí—˜ ì „ <strong>ëª¨ì˜ê³ ì‚¬</strong>ë¡œ ì‹œê°„ ê´€ë¦¬ ì—°ìŠµ</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- í—¤ë” -->
      <div class="header">
        <h1>AWS Solution Architect Associate</h1>
        <!-- ì‹œí—˜ ìš”ì•½ ì •ë³´ -->
        <div class="header-summary">
          <span>ğŸ“ 65ë¬¸ì œ</span>
          <span>â±ï¸ 130ë¶„</span>
          <span>âœ… í•©ê²© 72%</span>
          <button class="exam-info-btn" @click="showExamInfo = true">
            <span>â„¹ï¸</span> ìƒì„¸ë³´ê¸°
          </button>
        </div>
        <div class="header-content" v-if="currentUser">
          <div class="user-badge">
            {{ currentUser }}
            <button @click="logout" title="ë¡œê·¸ì•„ì›ƒ">âœ•</button>
          </div>
          <div class="sync-status" :class="syncStatusClass">
            <span>{{ syncStatusIcon }}</span> {{ syncStatusText }}
          </div>
        </div>
      </div>

      <!-- ë¡œë”© -->
      <div v-if="loading" class="loading">
        ë¬¸ì œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
      </div>

      <!-- ì—ëŸ¬ -->
      <div v-else-if="error" class="quiz-container">
        <p style="color: #ef4444; font-size: 1.2rem; text-align: center;">{{ error }}</p>
      </div>

      <!-- ë©”ì¸ ì½˜í…ì¸  -->
      <template v-else-if="currentUser">
        <!-- í’€ì´ ëª¨ë“œ ì„ íƒ -->
        <div class="mode-panel">
          <h3>í’€ì´ ëª¨ë“œ ì„ íƒ</h3>
          <div class="mode-buttons">
            <button
              class="mode-btn"
              :class="{ active: currentMode === 'sequential' }"
              @click="setMode('sequential')"
            >
              ìˆœì°¨
              <span class="count">{{ fullQuestions.length }}</span>
            </button>
            <button
              class="mode-btn"
              :class="{ active: currentMode === 'random' }"
              @click="setMode('random')"
            >
              ëœë¤
              <span class="count">{{ fullQuestions.length }}</span>
            </button>
            <button
              class="mode-btn"
              :class="{ active: currentMode === 'wrong' }"
              @click="setMode('wrong')"
            >
              ì˜¤ë‹µë³µìŠµ
              <span class="count">{{ wrongQuestions.length }}</span>
            </button>
            <button
              class="mode-btn"
              :class="{ active: currentMode === 'unsolved' }"
              @click="setMode('unsolved')"
            >
              ë¯¸í’€ì´
              <span class="count">{{ unsolvedQuestions.length }}</span>
            </button>
            <button
              class="mode-btn"
              :class="{ active: currentMode === 'bookmark' }"
              @click="setMode('bookmark')"
            >
              ë¶ë§ˆí¬
              <span class="count">{{ bookmarks.length }}</span>
            </button>
          </div>

          <!-- ì¶”ê°€ ë²„íŠ¼ë“¤ -->
          <div class="extra-btns">
            <button class="extra-btn" @click="showServiceSelect = true">
              <span>ğŸ·ï¸</span> ì„œë¹„ìŠ¤ë³„ í’€ê¸°
            </button>
            <button class="extra-btn exam" @click="startExamMode">
              <span>ğŸ“</span> ëª¨ì˜ê³ ì‚¬ (65ë¬¸ì œ / 130ë¶„)
            </button>
            <button class="extra-btn" @click="showWrongNotes = true" v-if="wrongQuestions.length > 0">
              <span>ğŸ“‹</span> ì˜¤ë‹µë…¸íŠ¸ ({{ wrongQuestions.length }})
            </button>
          </div>
        </div>

        <!-- ì„œë¹„ìŠ¤ë³„ í’€ê¸° ì„ íƒ -->
        <div class="service-select-panel" v-if="showServiceSelect">
          <div class="wrong-notes-header">
            <button class="back-btn" @click="showServiceSelect = false">â†</button>
            <h3>ğŸ·ï¸ ì„œë¹„ìŠ¤ë³„ í’€ê¸°</h3>
          </div>
          <p style="color: #6b7280; font-size: 0.9rem;">ì›í•˜ëŠ” AWS ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
          <div class="service-grid">
            <button
              v-for="svc in allServices"
              :key="svc.name"
              class="service-select-btn"
              @click="startServiceMode(svc.name)"
            >
              {{ svc.name }}
              <span class="svc-count">({{ svc.count }}ë¬¸ì œ)</span>
            </button>
          </div>
        </div>

        <!-- ëª¨ì˜ê³ ì‚¬ ë°°ë„ˆ -->
        <div class="exam-mode-banner" v-if="isExamMode && !showExamResult">
          <div style="font-weight: 600;">ğŸ“ ëª¨ì˜ê³ ì‚¬ ì§„í–‰ ì¤‘</div>
          <div class="exam-info">
            <div class="exam-info-item">
              <div class="label">ë‚¨ì€ ì‹œê°„</div>
              <div class="value">{{ examTimeFormatted }}</div>
            </div>
            <div class="exam-info-item">
              <div class="label">ì§„í–‰</div>
              <div class="value">{{ examProgress }} / 65</div>
            </div>
          </div>
          <button class="exam-end-btn" @click="endExamMode">ì‹œí—˜ ì¢…ë£Œ</button>
        </div>

        <!-- ëª¨ì˜ê³ ì‚¬ ê²°ê³¼ -->
        <div class="exam-result" v-if="showExamResult">
          <h2>ğŸ“ ëª¨ì˜ê³ ì‚¬ ê²°ê³¼</h2>
          <div class="exam-result-stats">
            <div class="exam-result-stat">
              <div class="label">ì´ ë¬¸ì œ</div>
              <div class="value">65</div>
            </div>
            <div class="exam-result-stat">
              <div class="label">ì •ë‹µ</div>
              <div class="value">{{ examResult.correct }}</div>
            </div>
            <div class="exam-result-stat">
              <div class="label">ì˜¤ë‹µ</div>
              <div class="value" style="color: #ef4444;">{{ examResult.wrong }}</div>
            </div>
            <div class="exam-result-stat">
              <div class="label">ì •ë‹µë¥ </div>
              <div class="value" :class="examResult.rate >= 72 ? 'pass' : 'fail'">
                {{ examResult.rate }}%
              </div>
            </div>
            <div class="exam-result-stat">
              <div class="label">ì†Œìš” ì‹œê°„</div>
              <div class="value">{{ examResult.timeUsed }}</div>
            </div>
            <div class="exam-result-stat">
              <div class="label">í•©ê²© ì—¬ë¶€</div>
              <div class="value" :class="examResult.rate >= 72 ? 'pass' : 'fail'">
                {{ examResult.rate >= 72 ? 'í•©ê²©' : 'ë¶ˆí•©ê²©' }}
              </div>
            </div>
          </div>
          <p style="color: #6b7280; margin-bottom: 1rem;">
            AWS SAA-C03 í•©ê²© ê¸°ì¤€: 720ì  / 1000ì  (ì•½ 72%)
          </p>
          <button class="btn" @click="closeExamResult">í™•ì¸</button>
        </div>

        <!-- ì˜¤ë‹µë…¸íŠ¸ í™”ë©´ -->
        <div class="wrong-notes-panel" v-if="showWrongNotes">
          <div class="wrong-notes-header">
            <button class="back-btn" @click="showWrongNotes = false">â†</button>
            <h3>ğŸ“‹ ì˜¤ë‹µë…¸íŠ¸ <span class="count">({{ filteredWrongNotes.length }}ë¬¸ì œ)</span></h3>
          </div>

          <!-- ì„œë¹„ìŠ¤ í•„í„° -->
          <div class="filter-section">
            <button
              class="filter-btn"
              :class="{ active: wrongNoteFilter === 'all' }"
              @click="wrongNoteFilter = 'all'"
            >ì „ì²´</button>
            <button
              v-for="service in wrongNoteServices"
              :key="service"
              class="filter-btn"
              :class="{ active: wrongNoteFilter === service }"
              @click="wrongNoteFilter = service"
            >{{ service }} ({{ getWrongCountByService(service) }})</button>
          </div>

          <!-- ì •ë ¬ -->
          <div class="sort-section">
            <select class="sort-select" v-model="wrongNoteSort">
              <option value="count">ì˜¤ë‹µ ë§ì€ ìˆœ</option>
              <option value="recent">ìµœê·¼ ì˜¤ë‹µ ìˆœ</option>
              <option value="id">ë¬¸ì œ ë²ˆí˜¸ ìˆœ</option>
            </select>
          </div>

          <!-- ì˜¤ë‹µ ëª©ë¡ -->
          <div class="wrong-cards">
            <div class="wrong-card" v-for="item in filteredWrongNotes" :key="item.id">
              <div class="wrong-card-header">
                <span class="question-id">#{{ item.id }}</span>
                <div class="services">
                  <span class="service-tag" v-for="s in item.services" :key="s">{{ s }}</span>
                </div>
              </div>
              <p class="question-preview">{{ item.question.substring(0, 100) }}{{ item.question.length > 100 ? '...' : '' }}</p>
              <div class="wrong-card-footer">
                <span class="wrong-info">
                  ì˜¤ë‹µ <span class="wrong-count">{{ wrongNoteData[item.id]?.count || 1 }}íšŒ</span>
                  <span v-if="wrongNoteData[item.id]?.lastDate"> | ìµœê·¼: {{ wrongNoteData[item.id].lastDate }}</span>
                </span>
                <button class="solve-btn" @click="solveFromWrongNote(item.id)">í’€ê¸°</button>
              </div>
            </div>

            <!-- ë¹ˆ ìƒíƒœ -->
            <div class="empty-state" v-if="filteredWrongNotes.length === 0">
              <div class="empty-icon">ğŸ‰</div>
              <p v-if="wrongNoteFilter === 'all'">ì•„ì§ í‹€ë¦° ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤!</p>
              <p v-else>{{ wrongNoteFilter }} ê´€ë ¨ ì˜¤ë‹µì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
          </div>
        </div>

        <!-- í†µê³„ -->
        <div class="stats" v-if="!showWrongNotes">
          <div class="stat-card">
            <h3>ì „ì²´ ë¬¸ì œ</h3>
            <p>{{ fullQuestions.length }}</p>
          </div>
          <div class="stat-card">
            <h3>í‘¼ ë¬¸ì œ</h3>
            <p style="color: #3b82f6;">{{ solvedQuestions.length }}</p>
          </div>
          <div class="stat-card">
            <h3>í‹€ë¦° ë¬¸ì œ</h3>
            <p style="color: #ef4444;">{{ wrongQuestions.length }}</p>
          </div>
          <div class="stat-card">
            <h3>ì •ë‹µë¥ </h3>
            <p style="color: #10b981;">{{ accuracyRate }}%</p>
          </div>
        </div>

        <!-- í€´ì¦ˆ -->
        <div class="quiz-container" v-if="questions.length > 0 && !showWrongNotes">
          <progress :value="current + 1" :max="questions.length"></progress>
          <div class="progress-info">
            <span>ì§„í–‰ë¥ : {{ current + 1 }} / {{ questions.length }}</span>
            <span>{{ formatTime(elapsedTime) }}</span>
          </div>

          <div v-if="question">
            <!-- ë¬¸ì œ í—¤ë” (ì„œë¹„ìŠ¤ íƒœê·¸ + ë¶ë§ˆí¬) -->
            <div class="question-header">
              <div class="service-tags" v-if="question.services && question.services.length">
                <span class="service-tag" v-for="service in question.services" :key="service">
                  {{ service }}
                </span>
              </div>
              <button
                class="bookmark-btn"
                :class="{ active: bookmarks.includes(question.id) }"
                @click="toggleBookmark(question.id)"
                :title="bookmarks.includes(question.id) ? 'ë¶ë§ˆí¬ í•´ì œ' : 'ë¶ë§ˆí¬ ì¶”ê°€'"
              >
                {{ bookmarks.includes(question.id) ? 'â˜…' : 'â˜†' }}
              </button>
            </div>

            <p class="question">{{ question.question }}</p>

            <div v-for="(text, key) in question.choices" :key="key">
              <button
                class="choice-button"
                :class="buttonClass(key)"
                @click="toggleChoice(key)"
                :disabled="showAnswer"
              >
                {{ key }}. {{ text }}
              </button>
            </div>

            <!-- ì¼ë°˜ ëª¨ë“œ: ì •ë‹µ/í•´ì„¤ -->
            <div v-if="showAnswer && !isExamMode" class="answer-section">
              <p><strong>ì •ë‹µ:</strong> {{ question.answers.join(', ') }}</p>
              <button class="btn" @click="showExplanation = true" v-if="!showExplanation">
                í•´ì„¤ ë³´ê¸°
              </button>
            </div>

            <div v-if="showExplanation && !isExamMode" class="explanation">
              <p v-for="(exp, i) in question.explanations" :key="i">{{ exp }}</p>
            </div>

            <!-- ëª¨ì˜ê³ ì‚¬ ëª¨ë“œ: ì‘ë‹µ ìƒíƒœ í‘œì‹œ -->
            <div v-if="isExamMode" style="margin-top: 1rem; padding: 0.75rem; background: #f0fdf4; border-radius: 8px; text-align: center;">
              <span v-if="examAnswers[question.id]" style="color: #10b981;">
                âœ“ ì‘ë‹µ ì™„ë£Œ ({{ examAnswers[question.id].join(', ') }})
              </span>
              <span v-else style="color: #6b7280;">
                ì•„ì§ ì‘ë‹µí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤
              </span>
            </div>

            <div class="navigation">
              <button class="btn" @click="prevQuestion" :disabled="current === 0">
                ì´ì „ ë¬¸ì œ
              </button>
              <button class="btn" @click="nextQuestion" :disabled="current + 1 === questions.length">
                ë‹¤ìŒ ë¬¸ì œ
              </button>
              <button v-if="isExamMode" class="btn" style="background: #dc2626;" @click="endExamMode">
                ì‹œí—˜ ì¢…ë£Œ
              </button>
            </div>
          </div>
        </div>

        <!-- ë¬¸ì œ ì—†ìŒ -->
        <div class="quiz-container" v-else-if="!showServiceSelect && !showWrongNotes && !showExamResult">
          <p style="text-align: center; color: #6b7280; padding: 2rem;">
            {{ currentMode === 'wrong' ? 'í‹€ë¦° ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤!' :
               currentMode === 'bookmark' ? 'ë¶ë§ˆí¬í•œ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤!' :
               currentMode === 'unsolved' ? 'ë¯¸í’€ì´ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤!' : 'ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.' }}
          </p>
        </div>

        <!-- ë¬¸ì œ ë²ˆí˜¸ ì´ë™ -->
        <div class="control-panel" v-if="questions.length > 0">
          <h3>ë¬¸ì œ ë²ˆí˜¸ ì´ë™</h3>
          <div class="jump-section">
            <input
              type="number"
              v-model.number="jumpNumber"
              placeholder="ë²ˆí˜¸ ì…ë ¥"
              min="1"
              :max="questions.length"
              @keyup.enter="jumpTo"
            />
            <button class="btn" @click="jumpTo">ì´ë™</button>
          </div>
        </div>
      </template>
    </div>
  </div>

  <script>
    const { createApp } = Vue;

    // ========================================
    // ì„¤ì • - Google Apps Script ì›¹ì•± URLì„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
    // ========================================
    const API_URL = 'https://script.google.com/macros/s/AKfycbycc9-5yDo0IaUeqVYzudPZvv7JkdVfB5DwrPzbMubLTG-k1QPx2VwJRgRhe-78L5XGtg/exec';

    createApp({
      data() {
        return {
          // ë¡œë”© ìƒíƒœ
          loading: true,
          loadingUsers: true,
          error: null,
          loginError: null,

          // ì‚¬ìš©ì
          users: [],
          selectedUser: '',
          currentUser: localStorage.getItem('aws-quiz-user') || null,
          showLoginModal: !localStorage.getItem('aws-quiz-user'),

          // ì„¸ì…˜
          sessionId: this.generateSessionId(),

          // ë¬¸ì œ ë°ì´í„°
          fullQuestions: [],
          questions: [],
          current: 0,

          // ì‚¬ìš©ì í†µê³„
          solvedQuestions: [],
          wrongQuestions: [],

          // í˜„ì¬ ë¬¸ì œ ìƒíƒœ
          selectedChoices: [],
          showAnswer: false,
          showExplanation: false,

          // ëª¨ë“œ
          currentMode: 'sequential',
          modeNames: {
            'sequential': 'ìˆœì°¨',
            'random': 'ëœë¤',
            'wrong': 'ì˜¤ë‹µë³µìŠµ',
            'unsolved': 'ë¯¸í’€ì´',
            'bookmark': 'ë¶ë§ˆí¬',
            'service': 'ì„œë¹„ìŠ¤ë³„',
            'exam': 'ëª¨ì˜ê³ ì‚¬'
          },

          // íƒ€ì´ë¨¸
          elapsedTime: 0,
          timerInterval: null,
          questionStartTime: null,

          // ë™ê¸°í™” ìƒíƒœ
          syncStatus: 'offline', // 'syncing', 'success', 'error', 'offline'

          // ê¸°íƒ€
          jumpNumber: null,
          attemptCounts: {}, // ë¬¸ì œë³„ ì‹œë„ íšŸìˆ˜

          // ì˜¤ë‹µë…¸íŠ¸
          showWrongNotes: false,
          wrongNoteData: {}, // { questionId: { count: ì˜¤ë‹µíšŸìˆ˜, lastDate: ìµœê·¼ì˜¤ë‹µì¼ } }
          wrongNoteFilter: 'all', // 'all' ë˜ëŠ” ì„œë¹„ìŠ¤ëª…
          wrongNoteSort: 'count', // 'count', 'recent', 'id'

          // ë¶ë§ˆí¬
          bookmarks: [], // ë¶ë§ˆí¬ëœ ë¬¸ì œ ID ë°°ì—´

          // ì„œë¹„ìŠ¤ë³„ í’€ê¸°
          showServiceSelect: false,
          selectedService: null,

          // ëª¨ì˜ê³ ì‚¬ ëª¨ë“œ
          isExamMode: false,
          examTimeLimit: 130 * 60, // 130ë¶„ (ì´ˆ)
          examTimeRemaining: 130 * 60,
          examTimerInterval: null,
          examAnswers: {}, // { questionId: selectedChoices }
          examStartTime: null,
          showExamResult: false,
          examResult: null,

          // ì‹œí—˜ì •ë³´ ëª¨ë‹¬
          showExamInfo: false,
          infoTab: 'exam',

          // ì„œë²„ ë™ê¸°í™” íƒ€ì´ë¨¸
          syncTimer: null
        };
      },

      computed: {
        question() {
          return this.questions[this.current];
        },

        unsolvedQuestions() {
          return this.fullQuestions.filter(q => !this.solvedQuestions.includes(q.id));
        },

        accuracyRate() {
          if (this.solvedQuestions.length === 0) return 0;
          const correct = this.solvedQuestions.length - this.wrongQuestions.length;
          return Math.round((correct / this.solvedQuestions.length) * 100);
        },

        syncStatusClass() {
          return this.syncStatus;
        },

        syncStatusIcon() {
          const icons = {
            'syncing': 'â—',
            'success': 'â—',
            'error': 'â—',
            'offline': 'â—‹'
          };
          return icons[this.syncStatus] || 'â—‹';
        },

        syncStatusText() {
          const texts = {
            'syncing': 'ì €ì¥ ì¤‘...',
            'success': 'ì €ì¥ ì™„ë£Œ',
            'error': 'ì €ì¥ ì‹¤íŒ¨',
            'offline': 'ì˜¤í”„ë¼ì¸'
          };
          return texts[this.syncStatus] || 'ì˜¤í”„ë¼ì¸';
        },

        // ì˜¤ë‹µë…¸íŠ¸: í•„í„°ë§ëœ ì˜¤ë‹µ ëª©ë¡
        filteredWrongNotes() {
          let wrongItems = this.fullQuestions.filter(q => this.wrongQuestions.includes(q.id));

          // ì„œë¹„ìŠ¤ í•„í„°
          if (this.wrongNoteFilter !== 'all') {
            wrongItems = wrongItems.filter(q =>
              q.services && q.services.includes(this.wrongNoteFilter)
            );
          }

          // ì •ë ¬
          switch (this.wrongNoteSort) {
            case 'count':
              wrongItems.sort((a, b) =>
                (this.wrongNoteData[b.id]?.count || 1) - (this.wrongNoteData[a.id]?.count || 1)
              );
              break;
            case 'recent':
              wrongItems.sort((a, b) => {
                const dateA = this.wrongNoteData[a.id]?.lastDate || '0000-00-00';
                const dateB = this.wrongNoteData[b.id]?.lastDate || '0000-00-00';
                return dateB.localeCompare(dateA);
              });
              break;
            case 'id':
              wrongItems.sort((a, b) => a.id - b.id);
              break;
          }

          return wrongItems;
        },

        // ì˜¤ë‹µë…¸íŠ¸: ì„œë¹„ìŠ¤ ëª©ë¡
        wrongNoteServices() {
          const services = new Set();
          this.fullQuestions
            .filter(q => this.wrongQuestions.includes(q.id))
            .forEach(q => {
              if (q.services) {
                q.services.forEach(s => services.add(s));
              }
            });
          return Array.from(services).sort();
        },

        // ë¶ë§ˆí¬ëœ ë¬¸ì œ
        bookmarkedQuestions() {
          return this.fullQuestions.filter(q => this.bookmarks.includes(q.id));
        },

        // ì „ì²´ ì„œë¹„ìŠ¤ ëª©ë¡ (ë¬¸ì œ ìˆ˜ í¬í•¨)
        allServices() {
          const serviceCount = {};
          this.fullQuestions.forEach(q => {
            if (q.services) {
              q.services.forEach(s => {
                serviceCount[s] = (serviceCount[s] || 0) + 1;
              });
            }
          });
          return Object.entries(serviceCount)
            .sort((a, b) => b[1] - a[1])
            .map(([name, count]) => ({ name, count }));
        },

        // ëª¨ì˜ê³ ì‚¬ ì‹œê°„ í¬ë§·
        examTimeFormatted() {
          const min = Math.floor(this.examTimeRemaining / 60);
          const sec = this.examTimeRemaining % 60;
          return `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
        },

        // ëª¨ì˜ê³ ì‚¬ ì§„í–‰ë¥ 
        examProgress() {
          return Object.keys(this.examAnswers).length;
        }
      },

      async mounted() {
        // ë¬¸ì œ ë°ì´í„° ë¡œë“œ
        await this.loadQuestions();

        // ì‚¬ìš©ì ëª©ë¡ ë¡œë“œ
        await this.loadUsers();

        // ì´ë¯¸ ë¡œê·¸ì¸ëœ ê²½ìš° ì‚¬ìš©ì í†µê³„ ë¡œë“œ
        if (this.currentUser) {
          await this.loadUserStats();
          this.startTimer();
        }
      },

      beforeUnmount() {
        this.stopTimer();
      },

      methods: {
        // ========================================
        // ìœ í‹¸ë¦¬í‹°
        // ========================================
        generateSessionId() {
          return 'sess_' + Math.random().toString(36).substring(2, 11);
        },

        formatTime(seconds) {
          const min = Math.floor(seconds / 60).toString().padStart(2, '0');
          const sec = Math.floor(seconds % 60).toString().padStart(2, '0');
          const ms = Math.floor((seconds % 1) * 100).toString().padStart(2, '0');
          return `${min}:${sec}.${ms}`;
        },

        shuffleArray(array) {
          const shuffled = [...array];
          for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
          }
          return shuffled;
        },

        // ========================================
        // ë°ì´í„° ë¡œë“œ
        // ========================================
        async loadQuestions() {
          try {
            const response = await fetch('./questions.json');
            if (!response.ok) throw new Error('ë¬¸ì œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            this.fullQuestions = await response.json();
            this.questions = [...this.fullQuestions];
            this.loading = false;
          } catch (err) {
            this.error = err.message;
            this.loading = false;
          }
        },

        async loadUsers() {
          this.loadingUsers = true;

          // API URLì´ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš° ë¡œì»¬ ëª¨ë“œ
          if (API_URL === 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE') {
            this.users = [{ name: 'í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì' }];
            this.loadingUsers = false;
            this.syncStatus = 'offline';
            return;
          }

          try {
            const response = await fetch(`${API_URL}?action=getUsers`, {
              method: 'GET',
              redirect: 'follow'
            });
            const result = await response.json();

            if (result.success) {
              this.users = result.users;
              this.syncStatus = 'success';
            } else {
              throw new Error(result.error || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜');
            }
          } catch (err) {
            console.error('ì‚¬ìš©ì ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:', err);
            this.loginError = 'ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì˜¤í”„ë¼ì¸ ëª¨ë“œë¡œ ì‹œì‘í•©ë‹ˆë‹¤.';
            this.users = [{ name: 'ê²ŒìŠ¤íŠ¸' }];
            this.syncStatus = 'offline';
          }

          this.loadingUsers = false;
        },

        async loadUserStats() {
          if (API_URL === 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE') {
            // ë¡œì»¬ ëª¨ë“œ: LocalStorageì—ì„œ ë¡œë“œ
            this.loadWrongNoteData();
            this.loadBookmarks();
            const saved = localStorage.getItem(`aws-quiz-stats-${this.currentUser}`);
            if (saved) {
              const stats = JSON.parse(saved);
              this.solvedQuestions = stats.solvedQuestions || [];
              this.wrongQuestions = stats.wrongQuestions || [];
              this.attemptCounts = stats.attemptCounts || {};
            }
            return;
          }

          // ì„œë²„ ëª¨ë“œ: APIì—ì„œ ë¡œë“œ
          try {
            const response = await fetch(`${API_URL}?action=getUserStats&userName=${encodeURIComponent(this.currentUser)}`);
            const result = await response.json();

            if (result.success) {
              this.solvedQuestions = result.stats.solvedQuestions || [];
              this.wrongQuestions = result.stats.wrongQuestions || [];

              // ì„œë²„ì—ì„œ ë¶ë§ˆí¬/ì˜¤ë‹µë…¸íŠ¸ ë¡œë“œ (ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ ë¡œì»¬ ì‚¬ìš©)
              if (result.stats.bookmarks && result.stats.bookmarks.length > 0) {
                this.bookmarks = result.stats.bookmarks;
                this.saveBookmarks(); // ë¡œì»¬ì—ë„ ë°±ì—…
              } else {
                this.loadBookmarks(); // ë¡œì»¬ì—ì„œ ë¡œë“œ
              }

              if (result.stats.wrongNoteData && Object.keys(result.stats.wrongNoteData).length > 0) {
                this.wrongNoteData = result.stats.wrongNoteData;
                this.saveWrongNoteData(); // ë¡œì»¬ì—ë„ ë°±ì—…
              } else {
                this.loadWrongNoteData(); // ë¡œì»¬ì—ì„œ ë¡œë“œ
              }

              // ì‹œë„ íšŸìˆ˜ ê³„ì‚°
              this.solvedQuestions.forEach(id => {
                this.attemptCounts[id] = (this.attemptCounts[id] || 0) + 1;
              });
            }
          } catch (err) {
            console.error('ì‚¬ìš©ì í†µê³„ ë¡œë“œ ì‹¤íŒ¨:', err);
            // ì‹¤íŒ¨ ì‹œ ë¡œì»¬ì—ì„œ ë¡œë“œ
            this.loadWrongNoteData();
            this.loadBookmarks();
          }
        },

        // ========================================
        // ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
        // ========================================
        async login() {
          if (!this.selectedUser) return;

          this.currentUser = this.selectedUser;
          localStorage.setItem('aws-quiz-user', this.currentUser);
          this.showLoginModal = false;
          this.sessionId = this.generateSessionId();

          await this.loadUserStats();
          this.startTimer();
        },

        logout() {
          if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
            this.stopTimer();
            this.currentUser = null;
            localStorage.removeItem('aws-quiz-user');
            this.showLoginModal = true;
            this.selectedUser = '';
            this.solvedQuestions = [];
            this.wrongQuestions = [];
            this.attemptCounts = {};
            this.resetState();
            this.setMode('sequential');
          }
        },

        // ========================================
        // íƒ€ì´ë¨¸
        // ========================================
        startTimer() {
          this.questionStartTime = Date.now();
          this.elapsedTime = 0;
          this.timerInterval = setInterval(() => {
            this.elapsedTime = (Date.now() - this.questionStartTime) / 1000;
          }, 100);
        },

        stopTimer() {
          if (this.timerInterval) {
            clearInterval(this.timerInterval);
            this.timerInterval = null;
          }
          // ì •í™•í•œ ì†Œìš”ì‹œê°„ ê³„ì‚° (ì†Œìˆ˜ì  2ìë¦¬)
          this.elapsedTime = Math.round((Date.now() - this.questionStartTime) / 10) / 100;
        },

        resetTimer() {
          this.questionStartTime = Date.now();
          this.elapsedTime = 0;
        },

        // ========================================
        // ëª¨ë“œ ë³€ê²½
        // ========================================
        setMode(mode) {
          this.currentMode = mode;
          this.current = 0;
          this.resetState();
          this.showServiceSelect = false;
          this.showWrongNotes = false;

          switch (mode) {
            case 'sequential':
              this.questions = [...this.fullQuestions];
              break;
            case 'random':
              this.questions = this.shuffleArray([...this.fullQuestions]);
              break;
            case 'wrong':
              this.questions = this.fullQuestions.filter(q => this.wrongQuestions.includes(q.id));
              break;
            case 'unsolved':
              this.questions = this.fullQuestions.filter(q => !this.solvedQuestions.includes(q.id));
              break;
            case 'bookmark':
              this.questions = this.fullQuestions.filter(q => this.bookmarks.includes(q.id));
              break;
          }

          this.resetTimer();
        },

        // ========================================
        // ë¬¸ì œ í’€ì´
        // ========================================
        toggleChoice(choice) {
          if (this.showAnswer) return;

          const correctCount = this.question.answers.length;

          if (this.selectedChoices.includes(choice)) {
            this.selectedChoices = this.selectedChoices.filter(c => c !== choice);
          } else {
            if (this.selectedChoices.length >= correctCount) return;
            this.selectedChoices.push(choice);
          }

          // ëª¨ì˜ê³ ì‚¬ ëª¨ë“œì—ì„œëŠ” ìë™ ì œì¶œí•˜ì§€ ì•ŠìŒ
          if (this.isExamMode) {
            this.saveExamAnswer();
            return;
          }

          if (this.selectedChoices.length === correctCount) {
            this.submitAnswer();
          }
        },

        async submitAnswer() {
          this.showAnswer = true;

          const selectedSorted = [...this.selectedChoices].sort().join(',');
          const correctSorted = [...this.question.answers].sort().join(',');
          const isCorrect = selectedSorted === correctSorted;

          // ì‹œë„ íšŸìˆ˜ ì—…ë°ì´íŠ¸
          this.attemptCounts[this.question.id] = (this.attemptCounts[this.question.id] || 0) + 1;

          // í†µê³„ ì—…ë°ì´íŠ¸
          if (!this.solvedQuestions.includes(this.question.id)) {
            this.solvedQuestions.push(this.question.id);
          }

          if (!isCorrect) {
            if (!this.wrongQuestions.includes(this.question.id)) {
              this.wrongQuestions.push(this.question.id);
            }
          } else {
            // ë§ì¶˜ ê²½ìš° ì˜¤ë‹µ ëª©ë¡ì—ì„œ ì œê±°
            this.wrongQuestions = this.wrongQuestions.filter(id => id !== this.question.id);
          }

          // ì˜¤ë‹µë…¸íŠ¸ ë°ì´í„° ì—…ë°ì´íŠ¸
          this.updateWrongNoteData(this.question.id, isCorrect);

          // ê²°ê³¼ ì €ì¥
          await this.saveQuizResult(isCorrect);
        },

        async saveQuizResult(isCorrect) {
          // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
          const stats = {
            solvedQuestions: this.solvedQuestions,
            wrongQuestions: this.wrongQuestions,
            attemptCounts: this.attemptCounts
          };
          localStorage.setItem(`aws-quiz-stats-${this.currentUser}`, JSON.stringify(stats));

          // APIê°€ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš° ë¡œì»¬ ëª¨ë“œ
          if (API_URL === 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE') {
            return;
          }

          this.syncStatus = 'syncing';

          try {
            // ì„ ì§€ í¬ë§·íŒ…: ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„
            const choicesText = Object.entries(this.question.choices)
              .map(([key, val]) => `${key}. ${val}`)
              .join('\n');

            // í•´ì„¤ í¬ë§·íŒ…: ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„
            const explanationText = (this.question.explanations || []).join('\n\n');

            const payload = {
              action: 'saveQuizResult',
              userName: this.currentUser,
              sessionId: this.sessionId,
              mode: this.modeNames[this.currentMode],
              questionId: this.question.id,
              questionText: this.question.question,
              choices: choicesText,
              questionType: this.question.answers.length > 1 ? 'ë³µìˆ˜ì„ íƒ' : 'ë‹¨ì¼ì„ íƒ',
              services: this.question.services || [],
              selectedAnswers: this.selectedChoices,
              correctAnswers: this.question.answers,
              explanation: explanationText,
              isCorrect: isCorrect,
              elapsedTime: this.elapsedTime,
              attemptCount: this.attemptCounts[this.question.id]
            };

            // Google Apps ScriptëŠ” form ë°ì´í„°ë¡œ ì „ì†¡í•´ì•¼ CORS ìš°íšŒ ê°€ëŠ¥
            const formData = new FormData();
            formData.append('payload', JSON.stringify(payload));

            await fetch(API_URL, {
              method: 'POST',
              body: formData
            });

            this.syncStatus = 'success';
          } catch (err) {
            console.error('ì €ì¥ ì‹¤íŒ¨:', err);
            this.syncStatus = 'error';
          }
        },

        buttonClass(choice) {
          if (!this.showAnswer) {
            return this.selectedChoices.includes(choice) ? 'selected' : '';
          }
          const isCorrect = this.question.answers.includes(choice);
          const isSelected = this.selectedChoices.includes(choice);
          if (isCorrect) return 'correct';
          if (isSelected && !isCorrect) return 'incorrect';
          return '';
        },

        // ========================================
        // ë„¤ë¹„ê²Œì´ì…˜
        // ========================================
        nextQuestion() {
          if (this.current + 1 < this.questions.length) {
            this.current++;
            this.loadQuestionState();
            if (!this.isExamMode) this.resetTimer();
          }
        },

        prevQuestion() {
          if (this.current > 0) {
            this.current--;
            this.loadQuestionState();
            if (!this.isExamMode) this.resetTimer();
          }
        },

        loadQuestionState() {
          // ëª¨ì˜ê³ ì‚¬ ëª¨ë“œì—ì„œëŠ” ê¸°ì¡´ ë‹µì•ˆ ë¶ˆëŸ¬ì˜¤ê¸°
          if (this.isExamMode && this.question && this.examAnswers[this.question.id]) {
            this.selectedChoices = [...this.examAnswers[this.question.id]];
          } else {
            this.selectedChoices = [];
          }
          this.showAnswer = false;
          this.showExplanation = false;
        },

        jumpTo() {
          if (this.jumpNumber && this.jumpNumber >= 1 && this.jumpNumber <= this.questions.length) {
            this.current = this.jumpNumber - 1;
            this.resetState();
            this.resetTimer();
            this.jumpNumber = null;
          } else {
            alert('ì˜¬ë°”ë¥¸ ë¬¸ì œ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
          }
        },

        resetState() {
          // ëª¨ì˜ê³ ì‚¬ ëª¨ë“œì—ì„œëŠ” ê¸°ì¡´ ë‹µì•ˆ ë¶ˆëŸ¬ì˜¤ê¸°
          if (this.isExamMode && this.question && this.examAnswers[this.question.id]) {
            this.selectedChoices = [...this.examAnswers[this.question.id]];
          } else {
            this.selectedChoices = [];
          }
          this.showAnswer = false;
          this.showExplanation = false;
        },

        // ========================================
        // ì˜¤ë‹µë…¸íŠ¸
        // ========================================
        getWrongCountByService(service) {
          return this.fullQuestions.filter(q =>
            this.wrongQuestions.includes(q.id) &&
            q.services && q.services.includes(service)
          ).length;
        },

        solveFromWrongNote(questionId) {
          // ì˜¤ë‹µë…¸íŠ¸ ë‹«ê¸°
          this.showWrongNotes = false;

          // í•´ë‹¹ ë¬¸ì œ ì°¾ê¸°
          const questionIndex = this.fullQuestions.findIndex(q => q.id === questionId);
          if (questionIndex === -1) return;

          // ìˆœì°¨ ëª¨ë“œë¡œ ì „í™˜í•˜ê³  í•´ë‹¹ ë¬¸ì œë¡œ ì´ë™
          this.currentMode = 'sequential';
          this.questions = [...this.fullQuestions];
          this.current = questionIndex;
          this.resetState();
          this.resetTimer();
        },

        updateWrongNoteData(questionId, isCorrect) {
          const today = new Date().toISOString().slice(0, 10);

          if (!isCorrect) {
            // ì˜¤ë‹µì¸ ê²½ìš° ì¹´ìš´íŠ¸ ì¦ê°€
            if (!this.wrongNoteData[questionId]) {
              this.wrongNoteData[questionId] = { count: 0, lastDate: today };
            }
            this.wrongNoteData[questionId].count++;
            this.wrongNoteData[questionId].lastDate = today;
          }

          this.saveWrongNoteData();
        },

        saveWrongNoteData() {
          // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
          localStorage.setItem(
            `aws-quiz-wrongnote-${this.currentUser}`,
            JSON.stringify(this.wrongNoteData)
          );
          // ì„œë²„ ë™ê¸°í™”
          this.syncUserDataToServer();
        },

        loadWrongNoteData() {
          const saved = localStorage.getItem(`aws-quiz-wrongnote-${this.currentUser}`);
          if (saved) {
            this.wrongNoteData = JSON.parse(saved);
          }
        },

        // ========================================
        // ë¶ë§ˆí¬
        // ========================================
        toggleBookmark(questionId) {
          if (this.bookmarks.includes(questionId)) {
            this.bookmarks = this.bookmarks.filter(id => id !== questionId);
          } else {
            this.bookmarks.push(questionId);
          }
          this.saveBookmarks();
        },

        saveBookmarks() {
          localStorage.setItem(
            `aws-quiz-bookmarks-${this.currentUser}`,
            JSON.stringify(this.bookmarks)
          );
          // ì„œë²„ ë™ê¸°í™”
          this.syncUserDataToServer();
        },

        loadBookmarks() {
          const saved = localStorage.getItem(`aws-quiz-bookmarks-${this.currentUser}`);
          if (saved) {
            this.bookmarks = JSON.parse(saved);
          }
        },

        // ì„œë²„ì— ë¶ë§ˆí¬/ì˜¤ë‹µë…¸íŠ¸ ë™ê¸°í™” (ë””ë°”ìš´ìŠ¤ ì ìš©)
        syncUserDataToServer() {
          if (API_URL === 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE') return;

          // ì´ì „ íƒ€ì´ë¨¸ ì·¨ì†Œ (ë””ë°”ìš´ìŠ¤)
          if (this.syncTimer) {
            clearTimeout(this.syncTimer);
          }

          // 2ì´ˆ í›„ ë™ê¸°í™” (ì—°ì† ë³€ê²½ ì‹œ í•œë²ˆë§Œ)
          this.syncTimer = setTimeout(async () => {
            try {
              const formData = new FormData();
              formData.append('payload', JSON.stringify({
                action: 'saveUserData',
                userName: this.currentUser,
                bookmarks: this.bookmarks,
                wrongNoteData: this.wrongNoteData
              }));

              await fetch(API_URL, {
                method: 'POST',
                body: formData
              });
              console.log('ì„œë²„ ë™ê¸°í™” ì™„ë£Œ');
            } catch (err) {
              console.error('ì„œë²„ ë™ê¸°í™” ì‹¤íŒ¨:', err);
            }
          }, 2000);
        },

        // ========================================
        // ì„œë¹„ìŠ¤ë³„ í’€ê¸°
        // ========================================
        startServiceMode(serviceName) {
          this.selectedService = serviceName;
          this.showServiceSelect = false;
          this.currentMode = 'service';
          this.current = 0;
          this.resetState();

          this.questions = this.fullQuestions.filter(q =>
            q.services && q.services.includes(serviceName)
          );

          this.resetTimer();
        },

        // ========================================
        // ëª¨ì˜ê³ ì‚¬ ëª¨ë“œ
        // ========================================
        startExamMode() {
          if (!confirm('ëª¨ì˜ê³ ì‚¬ë¥¼ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nâ€¢ 65ë¬¸ì œ / 130ë¶„\nâ€¢ ì¤‘ê°„ ì €ì¥ ì—†ìŒ\nâ€¢ í•©ê²© ê¸°ì¤€: 72%')) {
            return;
          }

          this.isExamMode = true;
          this.showExamResult = false;
          this.examTimeRemaining = this.examTimeLimit;
          this.examAnswers = {};
          this.examStartTime = Date.now();
          this.currentMode = 'exam';

          // ëœë¤ìœ¼ë¡œ 65ë¬¸ì œ ì„ íƒ
          const shuffled = this.shuffleArray([...this.fullQuestions]);
          this.questions = shuffled.slice(0, 65);
          this.current = 0;
          this.resetState();

          // ëª¨ì˜ê³ ì‚¬ íƒ€ì´ë¨¸ ì‹œì‘
          this.examTimerInterval = setInterval(() => {
            this.examTimeRemaining--;
            if (this.examTimeRemaining <= 0) {
              this.endExamMode();
            }
          }, 1000);

          this.stopTimer(); // ì¼ë°˜ íƒ€ì´ë¨¸ ì¤‘ì§€
        },

        endExamMode() {
          if (this.examTimerInterval) {
            clearInterval(this.examTimerInterval);
            this.examTimerInterval = null;
          }

          // ê²°ê³¼ ê³„ì‚°
          let correct = 0;
          let wrong = 0;

          this.questions.forEach(q => {
            const userAnswer = this.examAnswers[q.id];
            if (userAnswer) {
              const selectedSorted = [...userAnswer].sort().join(',');
              const correctSorted = [...q.answers].sort().join(',');
              if (selectedSorted === correctSorted) {
                correct++;
              } else {
                wrong++;
              }
            } else {
              wrong++; // ë¯¸ì‘ë‹µë„ ì˜¤ë‹µ ì²˜ë¦¬
            }
          });

          const timeUsedSec = Math.floor((Date.now() - this.examStartTime) / 1000);
          const timeUsedMin = Math.floor(timeUsedSec / 60);
          const timeUsedSecRem = timeUsedSec % 60;

          this.examResult = {
            correct,
            wrong,
            rate: Math.round((correct / 65) * 100),
            timeUsed: `${timeUsedMin}ë¶„ ${timeUsedSecRem}ì´ˆ`
          };

          this.showExamResult = true;
          this.isExamMode = false;
        },

        closeExamResult() {
          this.showExamResult = false;
          this.setMode('sequential');
          this.startTimer();
        },

        // ëª¨ì˜ê³ ì‚¬ìš© ë‹µì•ˆ ì €ì¥ (submitAnswer ìˆ˜ì • í•„ìš”)
        saveExamAnswer() {
          if (this.isExamMode && this.question) {
            this.examAnswers[this.question.id] = [...this.selectedChoices];
          }
        }
      }
    }).mount('#app');
  </script>
</body>
</html>
